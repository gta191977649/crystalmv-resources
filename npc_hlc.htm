<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script src="npc_hlc_files/analytics.js" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app100.us.archive.org';v.server_ms=302;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="npc_hlc_files/ait-client-rewrite.js" charset="utf-8"></script>
<script type="text/javascript">
WB_wombat_Init('https://web.archive.org/web', '20170114161131', 'crystalmv.net84.net:80');
</script>
<script type="text/javascript" src="npc_hlc_files/wbhack.js" charset="utf-8"></script>
<script type="text/javascript">
__wbhack.init('https://web.archive.org/web');
</script>
<link rel="stylesheet" type="text/css" href="npc_hlc_files/banner-styles.css">
<link rel="stylesheet" type="text/css" href="npc_hlc_files/iconochive.css">
<!-- End Wayback Rewrite JS Include -->
		<title>CrystalMV's scripts for Multi Theft Auto: San Andreas</title>
	</head>
	<body style="background-color:#000000;color:#00F000;text-align:justify;"><div id="wm-ipp" style="display: block; direction: ltr;" lang="en">
<div style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:130px;padding-top:10px;">
      <a href="https://web.archive.org/web/" title="Wayback Machine home page"><img src="npc_hlc_files/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a href="#" onclick="__wm.saveSnapshot('http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php', '20170114161131')" title="Share via My Web Archive" id="wm-save-snapshot-open" style="display: none;">
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in" style="display: inline-block;">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web" style="display: none;"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" style="text-align:right;">
	<a href="#" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php', '', 'height=400,width=600'); return false;" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a href="#" onclick="window.open('https://twitter.com/intent/tweet?text=https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php&amp;via=internetarchive', '', 'height=400,width=600'); return false;" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input name="url" id="wmtbURL" value="http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php" onfocus="this.focus();this.select();" autocomplete="off" type="text"><input name="type" value="replay" type="hidden"><input name="date" value="20170114161131" type="hidden"><input value="Go" type="submit"></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20160504162558/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php" title="04 May 2016"><strong>May</strong></a></td>
		  <td class="c" id="displayMonthEl" title="You are here: 16:11:31 Jan 14, 2017">JAN</td>
		  <td class="f" nowrap="nowrap">Feb</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20160504162558/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php" title="16:25:58 May 04, 2016"><img src="npc_hlc_files/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0"></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 16:11:31 Jan 14, 2017">14</td>
		  <td class="f" nowrap="nowrap"><img src="npc_hlc_files/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap"><a href="https://web.archive.org/web/20150520010302/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php" title="20 May 2015"><strong>2015</strong></a></td>
		  <td class="c" id="displayYearEl" title="You are here: 16:11:31 Jan 14, 2017">2017</td>
		  <td class="f" nowrap="nowrap">2018</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures"><a class="t" href="https://web.archive.org/web/*/http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php" title="See a list of every capture for this URL">5 captures</a><div class="r" title="Timespan for captures of this URL">1 Sep 2013 - 14 Jan 2017</div></div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="575" height="27" border="0"></canvas>
	      <div class="yt" style="display: none; width: 25px; height: 27px;"></div><div class="mt" style="display: none; width: 2px; height: 27px;"></div></div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
            <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="npc_hlc_files/loading.gif" alt="loading"></div>
    </div>
  </div></div></div></div><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script type="text/javascript" src="npc_hlc_files/timestamp.js" charset="utf-8"></script>
<script type="text/javascript" src="npc_hlc_files/graph-calc.js" charset="utf-8"></script>
<script type="text/javascript" src="npc_hlc_files/auto-complete.js" charset="utf-8"></script>
<script type="text/javascript" src="npc_hlc_files/toolbar.js" charset="utf-8"></script>
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
.wb-autocomplete-suggestions {
    text-align: left; cursor: default; border: 1px solid #ccc; border-top: 0; background: #fff; box-shadow: -1px 1px 3px rgba(0,0,0,.1);
    position: absolute; display: none; z-index: 2147483647; max-height: 254px; overflow: hidden; overflow-y: auto; box-sizing: border-box;
}
.wb-autocomplete-suggestion { position: relative; padding: 0 .6em; line-height: 23px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1.02em; color: #333; }
.wb-autocomplete-suggestion b { font-weight: bold; }
.wb-autocomplete-suggestion.selected { background: #f0f0f0; }
</style>
<script type="text/javascript">
__wm.bt(575,27,25,2,"web","http://crystalmv.net84.net:80/pages/scripts/docs/npc_hlc.php","2017-01-14",1996);
</script><div class="wb-autocomplete-suggestions "></div>
<!-- END WAYBACK TOOLBAR INSERT -->
		<h1 style="text-align:center;">MTA SA scripts by CrystalMV</h1>
		<hr>
		<table style="width:50%;margin:auto;" border="0">
			<tbody><tr>
				<td style="width:25%;text-align:center;">
					<a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/home.php" style="color:#FF8000;">Home</a>
				</td>
				<td style="width:25%;text-align:center;">
					<a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/scripts.php" style="color:#FF0000;">Scripts</a>
				</td>
				<td style="width:25%;text-align:center;">
					<a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/contact.php" style="color:#0060FF;">Contact</a>
				</td>
				<td style="width:25%;text-align:center;">
					<a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/donate.php" style="color:#FFFF00;">Donate</a>
				</td>
			</tr>
		</tbody></table>
		<hr>
		<table style="margin: 0px auto;">
			<tbody><tr>
				<td style="width:860px;" valign="top">

<h2 style="text-align:center;">NPC high-level control documentation</h2>
<p><a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/scripts/npc_hlc.php" style="color:#FFFF00;">Go back to NPC HLC page</a></p>
<p>NPC HLC allows you to control peds from your scripts easily. It does 
the lower level job for you. You can assign the task to the ped and NPC 
HLC will use control states, camera rotations and other client-side 
stuff to do the rest. Another good thing NPC HLC can do is server-side 
syncing. When ped has no syncer, the server becomes the one. It will use
 setElementPosition and a few other functions to simulate the ped 
movement, so even peds which are far away from any player will move. 
This syncing is less accurate and does not work with all tasks, though.</p><p>Keep in mind that resource is in the beta stage and <b>some settings, functions and events are very likely to change in the future versions</b>.</p><p>How
 the ped controlling works: you create the ped, enable the HLC 
functionality and assign a few tasks. The ped completes the first task, 
then another, in the same order they were added, and stops when all 
tasks are completed.</p><h3 style="color:#FF8000;">Resource settings</h3>
<p><code style="color:#00B0FF;"><b>meta.xml</b></code> has a setting called <code style="color:#00B0FF;"><b>server_colchecking</b></code>. It allows you to choose whether to use collision detection when peds move without the syncing player. <code style="color:#00B0FF;"><b>"true"</b></code>
 enables it, preventing the peds from getting stuck inside each other, 
but increasing CPU and memory usage. Any other value disables it. <a href="https://web.archive.org/web/20170114161131/http://crystalmv.net84.net:80/pages/scripts/server_coldata.php" target="_blank" style="color:#FFFF00;">Server coldata</a> is needed for this setting to be effective. If it is not running, the collision detection will be disabled.</p><p><code style="color:#00B0FF;"><b>control_npc_s.lua</b></code> has <code style="color:#00B0FF;"><b>UPDATE_INTERVAL_MS</b></code>
 variable. It is the time in milliseconds. It determines how often peds 
with no syncers are updated server-side. Default value is <code style="color:#00B0FF;"><b>2000</b></code>.</p><h3 style="color:#FF8000;">Exported functions</h3>
<p>When NPC HLC resource is running, other resources can call its functions in this way:</p><table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
exports.npc_hlc:functionName(arguments)</code></td></tr></tbody></table>
<p>The list of all functions exported by NPC HLC:</p><table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>enableHLCForNPC</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">walkspeed</span><span style="color:#C00000;">,</span> <span style="color:#006000;">accuracy</span><span style="color:#C00000;">,</span> <span style="color:#006000;">drivespeed</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Enables high-level control functionality 
for the specified ped. This is the first function which must be called 
before using other functions on the ped.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped you want to enable the HLC for</span></li>
<li><span style="color:#C06000;"><b>walkspeed:</b></span> <span style="color:#308000;">Walking speed of the ped. Can be <b>"walk"</b>, <b>"run"</b>, <b>"sprint"</b> and <b>"sprintfast"</b>. Default value: <b>"run"</b></span></li>
<li><span style="color:#C06000;"><b>accuracy:</b></span> <span style="color:#308000;">Weapon accuracy of the ped. Can range from <b>0</b> (worst) to <b>1</b> (best). Default value: <b>1</b></span></li>
<li><span style="color:#C06000;"><b>drivespeed:</b></span> <span style="color:#308000;">Maximum driving speed of the ped. Measured in GTA velocity units. Default value: <b>40/180</b></span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if HLC was enabled for the ped, <b>false</b> if it is already enabled or invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>disableHLCForNPC</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Disables high-level control functionality 
for specified ped. After doing so, you cannot use other HLC functions on
 the ped unless you re-enable it using <b>enableHLCForNPC</b>.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped you want to disable HLC for</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if HLC was disabled for the ped, <b>false</b> if it was not enabled before the function was called or invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>isHLCEnabled</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server and client function</span><br><br>
<span style="color:#800000;">Checks if high-level control functionality is enabled for specified ped.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped you want to check</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if HLC is enabled for the ped, <b>false</b> if it is not or invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>setNPCWalkSpeed</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">speed</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Sets the ped's on-foot speed.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose speed you want to change</span></li>
<li><span style="color:#C06000;"><b>speed:</b></span> <span style="color:#308000;">Ped's walking speed. Can be <b>"walk"</b>, <b>"run"</b>, <b>"sprint"</b> or <b>"sprintfast"</b></span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if walking speed was set successfully, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>getNPCWalkSpeed</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server and client function</span><br><br>
<span style="color:#800000;">Gets the ped's on-foot speed.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose speed you want to get</span></li>
</ul>
<span style="color:#0040B0;">Returns walking speed of the ped or <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>setNPCWeaponAccuracy</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">accuracy</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Sets the ped's weapon accuracy.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose accuracy you want to change</span></li>
<li><span style="color:#C06000;"><b>accuracy:</b></span> <span style="color:#308000;">Ped's accuracy. Can range from <b>0</b> to <b>1</b></span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if accuracy was set, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>getNPCWeaponAccuracy</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server and client function</span><br><br>
<span style="color:#800000;">Gets the ped's weapon accuracy.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose accuracy you want to get</span></li>
</ul>
<span style="color:#0040B0;">Returns accuracy of the ped or <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>setNPCDriveSpeed</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">speed</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Sets the ped's maximum driving speed.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose speed you want to change</span></li>
<li><span style="color:#C06000;"><b>speed:</b></span> <span style="color:#308000;">Ped's driving speed in GTA velocity units</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if driving speed was set, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>getNPCDriveSpeed</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server and client function</span><br><br>
<span style="color:#800000;">Gets the ped's maximum driving speed.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose speed you want to get</span></li>
</ul>
<span style="color:#0040B0;">Returns driving speed of the ped or <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>addNPCTask</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">task</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Adds a task to the ped's task sequence.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped which you want to add the task for</span></li>
<li><span style="color:#C06000;"><b>task:</b></span> <span style="color:#308000;">A table containing the task data</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if the task was added, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>clearNPCTasks</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Clears all tasks from the ped's task sequence, therefore stopping all actions.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped whose task sequence you want to clear</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if sequence was cleared, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#800080;"><b>setNPCTask</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">npc</span><span style="color:#C00000;">,</span> <span style="color:#006000;">task</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#C06000;">Server-only function</span><br><br>
<span style="color:#800000;">Clears the ped's task sequence and adds the specified task, therefore making the ped perform it instantly.</span><br>
<ul>
<li><span style="color:#C06000;"><b>npc:</b></span> <span style="color:#308000;">The ped which you want to set the task for</span></li>
<li><span style="color:#C06000;"><b>task:</b></span> <span style="color:#308000;">A table containing the task data</span></li>
</ul>
<span style="color:#0040B0;">Returns <b>true</b> if the task was set, <b>false</b> if invalid arguments were given.</span><br>
</code></td></tr></tbody></table>
<h3 style="color:#FF8000;">Events</h3>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#FF4000;"><b>"npc_hlc:onNPCTaskDone"</b></span> <span style="color:#0000C0;">(</span><span style="color:#006000;">task</span><span style="color:#0000C0;">)</span><br><br>
<span style="color:#800080">Server-side event</span><br><br>
<span style="color:#800000;">Gets triggered when the ped completes the task.</span><br>
<ul>
<li><span style="color:#C06000;"><b>source:</b></span> <span style="color:#308000;">The ped which completed the task</span></li>
<li><span style="color:#C06000;"><b>task:</b></span> <span style="color:#308000;">The task which was completed</span></li>
</ul>
</code></td></tr></tbody></table>
<h3 style="color:#FF8000;">Task data format</h3>
<p>The task is a table which stores the task name on the first index and a few parameters on the following indices.</p><p>Tasks list:</p><table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"walkToPos"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x</span><span style="color:#0000C0">,</span> <span style="color:#006000">y</span><span style="color:#0000C0">,</span> <span style="color:#006000">z</span><span style="color:#0000C0">,</span> <span style="color:#006000">distance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Walk straight towards the specified point until the distance is short enough.</span><ul><li><span style="color:#C06000;"><b>x, y, z:</b></span> <span style="color:#308000;">Walking destination</span></li>
<li><span style="color:#C06000;"><b>distance:</b></span> <span style="color:#308000;">The distance at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"walkAlongLine"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x1</span><span style="color:#0000C0">,</span> <span style="color:#006000">y1</span><span style="color:#0000C0">,</span> <span style="color:#006000">z1</span><span style="color:#0000C0">,</span> <span style="color:#006000">x2</span><span style="color:#0000C0">,</span> <span style="color:#006000">y2</span><span style="color:#0000C0">,</span> <span style="color:#006000">z2</span><span style="color:#0000C0">,</span> <span style="color:#006000">offset</span><span style="color:#0000C0">,</span> <span style="color:#006000">enddistance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Walk along the line until the ped is near enough to the ending point.</span><ul><li><span style="color:#C06000;"><b>x1, y1, z1:</b></span> <span style="color:#308000;">Starting position of the line</span></li>
<li><span style="color:#C06000;"><b>x2, y2, z2:</b></span> <span style="color:#308000;">Ending position of the line</span></li>
<li><span style="color:#C06000;"><b>offset:</b></span> <span style="color:#308000;">The
 distance which the ped pushes the nearest point of the line towards the
 ending point to get the actual destination point. The smaller it is, 
the more the ped tries to stay near the line.</span></li>
<li><span style="color:#C06000;"><b>enddistance:</b></span> <span style="color:#308000;">The distance to the end of the line at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"walkAroundBend"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x0</span><span style="color:#0000C0">,</span> <span style="color:#006000">y0</span><span style="color:#0000C0">,</span> <span style="color:#006000">x1</span><span style="color:#0000C0">,</span> <span style="color:#006000">y1</span><span style="color:#0000C0">,</span> <span style="color:#006000">z1</span><span style="color:#0000C0">,</span> <span style="color:#006000">x2</span><span style="color:#0000C0">,</span> <span style="color:#006000">y2</span><span style="color:#0000C0">,</span> <span style="color:#006000">z2</span><span style="color:#0000C0">,</span> <span style="color:#006000">offset</span><span style="color:#0000C0">,</span> <span style="color:#006000">enddistance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Walk along the arc until the ped is near enough to the ending point.</span><ul><li><span style="color:#C06000;"><b>x0, y0:</b></span> <span style="color:#308000;">The point which the arc is bent around</span></li>
<li><span style="color:#C06000;"><b>x1, y1, z1:</b></span> <span style="color:#308000;">Starting position of the arc</span></li>
<li><span style="color:#C06000;"><b>x2, y2, z2:</b></span> <span style="color:#308000;">Ending position of the arc</span></li>
<li><span style="color:#C06000;"><b>offset:</b></span> <span style="color:#308000;">The
 distance which the ped pushes the nearest point of the arc towards the 
ending point to get the actual destination point. The smaller it is, the
 more the ped tries to stay near the arc.</span></li>
<li><span style="color:#C06000;"><b>enddistance:</b></span> <span style="color:#308000;">The distance to the end of the arc at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"driveToPos"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x</span><span style="color:#0000C0">,</span> <span style="color:#006000">y</span><span style="color:#0000C0">,</span> <span style="color:#006000">z</span><span style="color:#0000C0">,</span> <span style="color:#006000">distance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Drive straight towards the specified point until the distance is short enough.</span><ul><li><span style="color:#C06000;"><b>x, y, z:</b></span> <span style="color:#308000;">Driving destination</span></li>
<li><span style="color:#C06000;"><b>distance:</b></span> <span style="color:#308000;">The distance at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"driveAlongLine"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x1</span><span style="color:#0000C0">,</span> <span style="color:#006000">y1</span><span style="color:#0000C0">,</span> <span style="color:#006000">z1</span><span style="color:#0000C0">,</span> <span style="color:#006000">x2</span><span style="color:#0000C0">,</span> <span style="color:#006000">y2</span><span style="color:#0000C0">,</span> <span style="color:#006000">z2</span><span style="color:#0000C0">,</span> <span style="color:#006000">offset</span><span style="color:#0000C0">,</span> <span style="color:#006000">enddistance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Drive along the line until the ped is near enough to the ending point.</span><ul><li><span style="color:#C06000;"><b>x1, y1, z1:</b></span> <span style="color:#308000;">Starting position of the line</span></li>
<li><span style="color:#C06000;"><b>x2, y2, z2:</b></span> <span style="color:#308000;">Ending position of the line</span></li>
<li><span style="color:#C06000;"><b>offset:</b></span> <span style="color:#308000;">The
 distance which the ped pushes the nearest point of the line towards the
 ending point to get the actual destination point. The smaller it is, 
the more the ped tries to stay near the line.</span></li>
<li><span style="color:#C06000;"><b>enddistance:</b></span> <span style="color:#308000;">The distance to the end of the line at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"driveAroundBend"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x0</span><span style="color:#0000C0">,</span> <span style="color:#006000">y0</span><span style="color:#0000C0">,</span> <span style="color:#006000">x1</span><span style="color:#0000C0">,</span> <span style="color:#006000">y1</span><span style="color:#0000C0">,</span> <span style="color:#006000">z1</span><span style="color:#0000C0">,</span> <span style="color:#006000">x2</span><span style="color:#0000C0">,</span> <span style="color:#006000">y2</span><span style="color:#0000C0">,</span> <span style="color:#006000">z2</span><span style="color:#0000C0">,</span> <span style="color:#006000">offset</span><span style="color:#0000C0">,</span> <span style="color:#006000">enddistance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Drive along the arc until the ped is near enough to the ending point.</span><ul><li><span style="color:#C06000;"><b>x0, y0:</b></span> <span style="color:#308000;">The point which the arc is bent around</span></li>
<li><span style="color:#C06000;"><b>x1, y1, z1:</b></span> <span style="color:#308000;">Starting position of the arc</span></li>
<li><span style="color:#C06000;"><b>x2, y2, z2:</b></span> <span style="color:#308000;">Ending position of the arc</span></li>
<li><span style="color:#C06000;"><b>offset:</b></span> <span style="color:#308000;">The
 distance which the ped pushes the nearest point of the arc towards the 
ending point to get the actual destination point. The smaller it is, the
 more the ped tries to stay near the arc.</span></li>
<li><span style="color:#C06000;"><b>enddistance:</b></span> <span style="color:#308000;">The distance to the end of the arc at which the task is completed</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"walkFollowElement"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">followed</span><span style="color:#0000C0">,</span> <span style="color:#006000">distance</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Try to stay in the range of the specified element.</span><ul><li><span style="color:#C06000;"><b>followed:</b></span> <span style="color:#308000;">The element to follow</span></li>
<li><span style="color:#C06000;"><b>distance:</b></span> <span style="color:#308000;">The maximum distance to the element</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"shootPoint"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">x</span><span style="color:#0000C0">,</span> <span style="color:#006000">y</span><span style="color:#0000C0">,</span> <span style="color:#006000">z</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Shoot at the specified point.</span><ul><li><span style="color:#C06000;"><b>x, y, z:</b></span> <span style="color:#308000;">The point to shoot at</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"shootElement"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">target</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Shoot at the specified element.</span><ul><li><span style="color:#C06000;"><b>target:</b></span> <span style="color:#308000;">The element to shoot at</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"killPed"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">target</span><span style="color:#0000C0">,</span> <span style="color:#006000">shootdist</span><span style="color:#0000C0">,</span> <span style="color:#006000">followdist</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Shoot at the ped and try to stay in range.</span><ul><li><span style="color:#C06000;"><b>target:</b></span> <span style="color:#308000;">The ped to shoot at</span></li>
<li><span style="color:#C06000;"><b>shootdist:</b></span> <span style="color:#308000;">Maximum shooting distance</span></li>
<li><span style="color:#C06000;"><b>followdist:</b></span> <span style="color:#308000;">The distance at which to start walking towards the target</span></li>
</ul></code></td></tr></tbody></table>
<table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
<span style="color:#0000C0;">{</span><span style="color:#FF4000;"><b>"waitForGreenLight"</b></span><span style="color:#0000C0">,</span> <span style="color:#006000">direction</span><span style="color:#0000C0;">}</span><br><br><span style="color:#800000;">Do nothing until a certain traffic light state. In addition to what <b>direction</b> parameter sets, the task will also be completed if all lights are yellow or turned off.</span><ul><li><span style="color:#C06000;"><b>direction:</b></span> <span style="color:#308000;">A parameter determining which traffic lights should be green. <b>"NS"</b> is for north-south, <b>"WE"</b> is for west-east and <b>"ped"</b> is for red states of all vehicle traffic lights.</span></li>
</ul></code></td></tr></tbody></table>
<h3 style="color:#FF8000;">Example</h3>
<p>The following example creates a ped at the center of the map. The ped walks to the north and then to the east.</p><table border="0"><tbody><tr><td style="background-color:#FFFFFF;color:#000000;text-align:left;width:1024px"><code>
local ped = createPed(0, 0, 0, 3) --create the ped<br>exports.npc_hlc:enableNPCForHLC(ped) --make HLC functions work on the ped<br>exports.npc_hlc:addNPCTask(ped, {"walkAlongLine", 0, 0, 3, 0, 20, 3, 2, 4}) --walk 20 units to the north<br>exports.npc_hlc:addNPCTask(ped, {"walkAlongLine", 0, 20, 3, 20, 20, 3, 2, 4}) --walk 20 units to the east</code></td></tr></tbody></table>


				</td>
				<td style="width:160px;" valign="top" align="right">
<a href="https://web.archive.org/web/20170114161131/http://www.000webhost.com/593182.html" target="_blank"><img src="npc_hlc_files/banner1.gif" alt="Web hosting" width="120" height="60" border="0"></a>

<br><br><br><br><br><br><br><br>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-7752164443636798";
/* MTA scripts website */
google_ad_slot = "6090306844";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="npc_hlc_files/show_ads.js">
</script>
				</td>
			</tr>
		</tbody></table>	



<script type="text/javascript" src="npc_hlc_files/count.htm"></script>
<!-- End Of Analytics Code -->
<!--
     FILE ARCHIVED ON 16:11:31 Jan 14, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 05:02:17 Sep 10, 2018.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  LoadShardBlock: 56.445 (3)
  esindex: 0.01
  captures_list: 73.939
  CDXLines.iter: 12.924 (3)
  PetaboxLoader3.datanode: 65.33 (4)
  exclusion.robots: 0.372
  exclusion.robots.policy: 0.354
  RedisCDXSource: 1.602
  PetaboxLoader3.resolve: 161.355
  load_resource: 203.974
--></body></html>
<!-- Hosting24 Analytics Code -->